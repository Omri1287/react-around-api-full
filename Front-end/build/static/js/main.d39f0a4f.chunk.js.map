{"version":3,"sources":["images/header-icon.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfileModal.js","components/EditAvatarModal.js","components/DeleteModal.js","components/AddImageModal.js","components/ImagePopup.js","Utils/Api.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/Check.svg","images/Xerror.svg","components/InfoTooltip.js","Utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","userEmail","to","link","onClick","text","currentUserContext","React","createContext","Card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","title","handleCardClick","handleDeleteClick","card","id","type","handleCardLike","length","Main","handleLogout","avatar","aria-label","handleEditAvatarClick","name","handleEditProfileClick","about","handleAddPlaceClick","cards","map","PopupWithForm","isOpen","onClose","action","noValidate","onSubmit","children","buttonText","EditProfileModal","useState","setName","setAbout","useEffect","e","preventDefault","onUpdateUser","defaultValue","placeholder","required","maxLength","minLength","onChange","target","value","EditAvatarModal","avatarRef","useRef","onUpdateAvatar","current","ref","DeleteModal","AddImageModal","cardLink","setCardLink","cardName","setCardName","handleAddPlaceSubmit","ImagePopup","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","data","Promise","reject","statusText","all","getUserInfo","getCardList","method","body","JSON","stringify","cardId","status","authorization","Register","handleRegistration","email","setEmail","password","setPassword","history","useHistory","localStorage","getItem","push","Login","handleSubmit","handleLogin","ProtectedRoute","Component","component","args","console","log","loggedIn","InfoTooltip","valid","Check","Xerror","BASE_URL","checkToken","token","Accept","Authorization","App","setCards","editProfileModalOpen","setEditProfileModalOpen","editAvatarModalOpen","setEditAvatarModalOpen","addImageModalOpen","setAddImageModalOpen","deleteModalOpen","setDeleteModalOpen","enlargeImage","setEnlargeImage","selectedCard","setSelectedCard","imageLink","setImageLink","imageTitle","setImageTitle","setCurrentUser","setLoggedIn","setUserData","isInfoTooltipOpen","setIsInfoTooltipOpen","isSuccessful","setIsSuccessful","closeAllPopups","jwt","auth","err","usersEmail","catch","handleCheckToken","userData","username","Provider","exact","path","removeItem","removeCard","cardList","filter","c","addLike","deleteLike","newCard","newCards","setItem","setUserInfo","setUserAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d39f0a4f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-icon.4e8e0a1d.svg\";","import logo from \"../images/header-icon.svg\";\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\n\nfunction Header(props) {\n    return (\n        <header className=\"header\">\n            <img\n                className=\"header__vector\"\n                src={logo}\n                alt=\"around the usa logo\"\n            />\n            <div className=\"header__nav\">\n                <p className=\"header__email\">{props.userEmail}</p>\n                <Link\n                    className=\"header__link link\"\n                    to={props.link}\n                    onClick={props.onClick}\n                >\n                    {props.text}\n                </Link>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;\n","//import React, { createContext } from \"react\";\nimport React from \"react\";\n\n\nexport const currentUserContext = React.createContext();\n","import React from \"react\";\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n    const currentUser = React.useContext(currentUserContext);\n\n    // Checking if you are the owner of the current card\n    const isOwn = props.owner._id === currentUser._id;\n\n    // Creating a variable which you'll then set in `className` for the delete button\n    const cardDeleteButtonClassName = `elements__item_delete ${\n        isOwn ? \"elements__item_delete_show\" : \"elements__item_delete_hidden\"\n    }`;\n    // Check if the card was liked by the current user\n    const isLiked = props.likes.some((i) => i._id === currentUser._id);\n\n    // Create a variable which you then set in `className` for the like button\n\n    const cardLikeButtonClassName = `elements__heart ${\n        isLiked ? \"elements__heart_active\" : \"elements__heart\"\n    }`;\n    // function deleteCard(){\n    //     props.onDeleteClick(props.card)\n    // }\n    // function handleLike(){\n    //     console.log(props.card)\n    //     props.onCardLike(props.card)\n    // }\n    // function handleCardClick() {\n    //     props.onCardClick(props.card)\n    // }\n    return (\n        <li className=\"elements__item\">\n            <img\n                className=\"elements__image\"\n                src={props.src}\n                alt={props.title}\n                onClick={() => {\n                    props.handleCardClick(props.src, props.title);\n                }}\n            />\n            <button\n                className={cardDeleteButtonClassName}\n                onClick={() => {\n                    props.handleDeleteClick(props.card);\n                }}\n            ></button>\n            <div id=\"title-container\" className=\"elements__container\">\n                <h2 className=\"elements__title\">{props.title}</h2>\n                <div className=\"elements__heart-container\">\n                    <button\n                        type=\"button\"\n                        className={cardLikeButtonClassName}\n                        onClick={() => {\n                            props.handleCardLike(props.card);\n                        }}\n                    ></button>\n                    <p className=\"elements__heart-count\">\n                        {props.likes.length}\n                    </p>\n                </div>\n            </div>\n        </li>\n    );\n}\nexport default Card;\n","//import React, { useState, useEffect, createContext } from \"react\";\nimport React from \"react\";\n\n//import jacques from \"../images/jacques-cousteau.jpg\";\n//import api from \"../Utils/Api\";\nimport Card from \"./Card\";\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\n\nfunction Main(props) {\n    //   const [userName, setUserName] = React.useState(\"\")\n    //   const [userDescription,setUserDescription] = React.useState(\"\")\n    //   const [userAvatar, setUserAvatar] = React.useState(\"\")\n    const currentUser = React.useContext(currentUserContext);\n    //const [cards, setCards] = React.useState([])\n    //check if the url is the correct one\n    //   const searchUrl = window.location.href\n    //   if(searchUrl.endsWith(\"/signin\") || searchUrl.endsWith(\"/signup\")){\n    //       return null;\n    //   }\n    //   useEffect(() => {\n    //     api.getUserInfo()\n    //     .then((res) => {\n    //         setUserName(res);\n    //         setUserDescription(res);\n    //         setUserAvatar(res);\n    //         setCurrentUser(res)\n    //     })\n    //     .then(() => {\n    //         api.getCardList()\n    //         .then((res) => {\n    //             setCards(\n    //                 res.map((card) => ({\n    //                     name: card.name,\n    //                     link: card.link,\n    //                     _id: card._id,\n    //                     likes: card.likes,\n    //                     owner: card.owner,\n    //             })))\n    //         })\n    //         .catch((err) => console.log(err));\n    //     })\n    //     .catch((err) => console.log(err));\n    //   }, [])\n\n    return (\n        <main className=\"content\">\n            <Header\n                link={\"/signin\"}\n                text={\"Log out\"}\n                onClick={props.handleLogout}\n                userEmail={props.userEmail}\n            />\n            <section className=\"profile\">\n                <div className=\"profile__avatar\">\n                    <img\n                        src={currentUser.avatar}\n                        alt=\"profile picture\"\n                        className=\"profile__photo\"\n                    />\n                    <button\n                        type=\"button\"\n                        aria-label=\"edit-avatar\"\n                        className=\"profile__photo_edit\"\n                        onClick={props.handleEditAvatarClick}\n                    ></button>\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__container\">\n                        <h1 className=\"profile__text_name\">\n                            {currentUser.name}\n                        </h1>\n                        <button\n                            className=\"profile__edit-button\"\n                            onClick={props.handleEditProfileClick}\n                        ></button>\n                    </div>\n                    <h2 className=\"profile__text_desc\">{currentUser.about}</h2>\n                </div>\n                <button\n                    className=\"profile__add-button\"\n                    onClick={props.handleAddPlaceClick}\n                ></button>\n            </section>\n            <section className=\"elements\">\n                <ul className=\"elements__list\">\n                    {props.cards.map((card, id) => (\n                        <Card\n                            card={card}\n                            key={id}\n                            _id={card._id}\n                            src={card.link}\n                            title={card.name}\n                            likes={card.likes}\n                            owner={card.owner}\n                            handleCardClick={() => {\n                                props.handleCardClick(card.link, card.name);\n                            }}\n                            handleDeleteClick={(card) => {\n                                props.handleDeleteClick(card);\n                            }}\n                            handleCardLike={(card) => {\n                                props.handleCardLike(card);\n                            }}\n                        />\n                    ))}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n    return (\n        <div\n            className={`modal modal_type_${props.name} ${\n                props.isOpen ? \"modal_is-open\" : \"\"\n            }`}\n        >\n            <div className=\"modal__container\">\n                <button\n                    className=\"modal__close-btn\"\n                    onClick={props.onClose}\n                ></button>\n                <form\n                    className={`modal__form modal__form_type_${props.name}`}\n                    action=\"#\"\n                    noValidate\n                    onSubmit={props.onSubmit}\n                >\n                    <h2 className=\"modal__title\">{`${props.title}`}</h2>\n                    {props.children}\n                    <button\n                        type=\"submit\"\n                        className=\"modal__save modal__save_disabled\"\n                    >\n                        {props.buttonText}\n                    </button>\n                </form>\n            </div>\n        </div>\n        // <div className=\"modal modal_type_image\">\n        //         <div className=\"modal__container\">\n        //             <button className=\"modal__close-btn modal__close-btn_type_image\"></button>\n        //             <figure className=\"modal__new-container\">\n        //                 <img className=\"modal__large-image\" id=\"img-large\" src=\"#\" alt=\"#\" />\n        //                 <figcaption className=\"modal__caption\"></figcaption>\n        //             </figure>\n        //         </div>\n        // </div>\n    );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfileModal(props) {\n    const [name, setName] = React.useState(\"\");\n    const [about, setAbout] = React.useState(\"\");\n\n    function handleName(e) {\n        setName(e.target.value);\n    }\n    function handleAbout(e) {\n        setAbout(e.target.value);\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n            name: name,\n            about: about,\n        });\n    }\n\n    // Subscription to the context\n    const currentUser = React.useContext(currentUserContext);\n\n    // After loading the current user from the API\n    // their data will be used in managed components.\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setAbout(currentUser.about);\n    }, [currentUser]);\n\n    return (\n        <PopupWithForm\n            name=\"edit-profile\"\n            title=\"Edit Profile\"\n            buttonText=\"Save\"\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                id=\"profile-name\"\n                type=\"text\"\n                defaultValue={name}\n                placeholder=\"title\"\n                className=\"modal__input modal__input_name\"\n                name=\"title\"\n                required\n                maxLength=\"40\"\n                minLength=\"2\"\n                onChange={handleName}\n            />\n            <span id=\"profile-name-error\" className=\"modal__error\"></span>\n            <input\n                id=\"profile-desc\"\n                type=\"text\"\n                defaultValue={about}\n                placeholder=\"description\"\n                className=\"modal__input modal__input_desc\"\n                name=\"desc\"\n                required\n                maxLength=\"200\"\n                minLength=\"2\"\n                onChange={handleAbout}\n            />\n            <span id=\"profile-desc-error\" className=\"modal__error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfileModal;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarModal(props) {\n    const avatarRef = React.useRef();\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar(avatarRef.current.value);\n    }\n    return (\n        <PopupWithForm\n            name=\"edit-avatar\"\n            title=\"Edit Avatar\"\n            buttonText=\"Save\"\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                id=\"avatar-URL\"\n                type=\"url\"\n                placeholder=\"enter avatar link here\"\n                className=\"modal__input modal__input_avatar-URL\"\n                name=\"avatarURL\"\n                required\n                minLength=\"2\"\n                ref={avatarRef}\n            />\n            <span\n                id=\"avatar-URL-error\"\n                className=\"modal__error modal__error_visible\"\n            ></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditAvatarModal;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction DeleteModal(props) {\n    return (\n        <PopupWithForm\n            name=\"delete\"\n            buttonText=\"Yes\"\n            title=\"Are you sure?\"\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n        ></PopupWithForm>\n    );\n}\n\nexport default DeleteModal;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddImageModal(props) {\n    const [cardLink, setCardLink] = React.useState(\"\");\n    const [cardName, setCardName] = React.useState(\"\");\n\n    function handleCardLink(e) {\n        setCardLink(e.target.value);\n    }\n    function handleCardName(e) {\n        setCardName(e.target.value);\n    }\n    function handleAddCard(e) {\n        e.preventDefault();\n        props.handleAddPlaceSubmit({\n            name: cardName,\n            link: cardLink,\n        });\n    }\n    return (\n        <PopupWithForm\n            name=\"add-image\"\n            title=\"New Place\"\n            buttonText=\"Save\"\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleAddCard}\n        >\n            <input\n                id=\"card-name\"\n                type=\"text\"\n                placeholder=\"Name\"\n                className=\"modal__input modal__input_image-name\"\n                name=\"name\"\n                onChange={handleCardName}\n                value={cardName}\n                required\n                maxLength=\"30\"\n                minLength=\"2\"\n            />\n            <span id=\"card-name-error\" className=\"modal__error\"></span>\n            <input\n                id=\"card-link\"\n                type=\"url\"\n                placeholder=\"image-link\"\n                className=\"modal__input modal__input_url\"\n                name=\"link\"\n                onChange={handleCardLink}\n                value={cardLink}\n                required\n            />\n            <span id=\"card-link-error\" className=\"modal__error\"></span>\n        </PopupWithForm>\n    );\n}\nexport default AddImageModal;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n    return (\n        <div\n            className={`modal modal_type_image ${\n                props.isOpen ? \"modal_is-open\" : \"\"\n            }`}\n        >\n            <div className=\"modal__container\">\n                <button\n                    className=\"modal__close-btn\"\n                    onClick={props.onClose}\n                ></button>\n                <figure className=\"modal__new-container\">\n                    <img\n                        className=\"modal__large-image\"\n                        id=\"img-large\"\n                        src={props.link}\n                        alt={props.title}\n                    />\n                    <figcaption className=\"modal__caption\">\n                        {props.title}\n                    </figcaption>\n                </figure>\n            </div>\n        </div>\n    );\n}\nexport default ImagePopup;\n","class Api {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    getCardList() {\n        return (\n            fetch(this._baseUrl + \"/cards\", {\n                headers: this._headers,\n            })\n                //if you get response send the json, if not send an error status\n                //.then((res) => res.ok ? res.json: Promise.reject('Error!' + res.statusText))\n                .then(function (res) {\n                    if (res.ok) {\n                        return res.json().then((data) => {\n                            return data;\n                        });\n                    } else {\n                        Promise.reject(\"Error!\" + res.statusText);\n                    }\n                })\n        );\n        // .catch(err => console.log(err))\n    }\n    getUserInfo() {\n        return (\n            fetch(this._baseUrl + \"/users/me\", {\n                headers: this._headers,\n                //method: \"GET\"\n            })\n                //if you get response send the json, if not send an error status\n                .then((res) =>\n                    res.ok\n                        ? res.json()\n                        : Promise.reject(\"Error!\" + res.statusText)\n                )\n        );\n        //.catch(err => console.log(err))\n    }\n    //should do the promise and wait for the get card list and user info results.\n    //then render all of them together, not step by step\n    getAppInfo() {\n        return Promise.all([this.getUserInfo(), this.getCardList()]);\n    }\n\n    addCard({ name, link }) {\n        return fetch(this._baseUrl + \"/cards\", {\n            headers: this._headers,\n            //i wish to send data to the server side\n            method: \"POST\",\n            //which data i want to send to the server side\n            body: JSON.stringify({\n                name,\n                link,\n            }),\n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                Promise.reject(\"Error!\" + res.statusText);\n            }\n        });\n        // .catch(err => console.log(err))\n    }\n    removeCard(cardId) {\n        return fetch(this._baseUrl + \"/cards/\" + cardId, {\n            headers: this._headers,\n            //i wish to delete data\n            method: \"DELETE\",\n        }).then((res) =>\n            res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText)\n        );\n        // .catch(err => {throw new Error(err)});\n    }\n    //changeCardLikeStatus(cardId, like){}\n    addLike(cardId) {\n        return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n            headers: this._headers,\n            //i wish to delete data\n            method: \"PUT\",\n        }).then((res) => {\n            if (res.ok) {\n                return res.json();\n                //.then(data => {return data})\n            } else {\n                Promise.reject(\"Error!\" + res.statusText);\n            }\n        });\n        //.catch(err => {console.log(err)})\n    }\n    deleteLike(cardId) {\n        return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n            headers: this._headers,\n            //i wish to delete data\n            method: \"DELETE\",\n        }).then((res) =>\n            res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText)\n        );\n        // .catch(err => console.log(err))\n    }\n    setUserInfo({ name, about }) {\n        return (\n            fetch(this._baseUrl + \"/users/me\", {\n                headers: this._headers,\n                method: \"PATCH\",\n                body: JSON.stringify({\n                    name,\n                    about,\n                }),\n            })\n                //if you get response send the json, if not send an error status\n                .then((res) => {\n                    return res.ok\n                        ? res.json()\n                        : Promise.reject(\n                              \"Error!\" + res.statusText + res.status\n                          );\n                })\n        );\n        //  .catch(err => console.log(err))\n    }\n    setUserAvatar({ avatar }) {\n        return fetch(this._baseUrl + \"/users/me/avatar\", {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify({\n                avatar,\n            }),\n        }).then((res) =>\n            res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText)\n        );\n        //.catch(err => console.log(err))\n    }\n    setUserInfos({ name, about }) {\n        return fetch(this._baseUrl + \"/users/me\", {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify({\n                name,\n                about,\n            }),\n        }).then((res) => {\n            return res.ok\n                ? res.json()\n                : Promise.reject(\"Error!\" + res.statusText);\n        });\n    }\n}\nconst api = new Api({\n    baseUrl: \"https://around.nomoreparties.co/v1/group-6\",\n    headers: {\n        authorization: \"2fafb99f-e5be-44a5-8ca2-7baac5014f21\",\n        \"Content-Type\": \"application/json\",\n    },\n});\n\nexport default api;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n//import * as auth from \"../Utils/auth\";\n//import './styles/Register.css';\n\nfunction Register({ handleRegistration }) {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState({})\n\n\n    const history = useHistory();\n\n    // function handleEmail(e) {\n    //     setEmail(e.target.value)\n    //     setError({...error, [e.target.name]: e.target.validationMessage})\n    // }\n    // function handlePassword(e) {\n    //     setPassword(e.target.value)\n    //     setError({...error, [e.target.name]: e.target.validationMessage})\n    // }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        handleRegistration(email, password);\n\n        if (localStorage.getItem(\"jwt\")) {\n            history.push(\"/signin\");\n            \n        }\n        //reset()\n    };\n    return (\n        <div className=\"login\">\n            <form action=\"#\" onSubmit={handleSubmit} className=\"login__form\">\n                <h2 className=\"login__title\">Sign up</h2>\n                <input\n                    required\n                    className=\"login__form\"\n                    name=\"email\"\n                    type=\"email\"\n                    value={email}\n                    placeholder=\"email\"\n                    onChange={(e) => setEmail(e.target.value)}\n                    //onChange={handleEmail}\n                />\n                <input\n                    required\n                    className=\"login__form\"\n                    name=\"password\"\n                    type=\"password\"\n                    value={password}\n                    placeholder=\"password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    //onChange={handlePassword}\n                />\n                <button type=\"submit\" className=\"login__submit\">\n                    Sign up!\n                </button>\n                <Link to=\"/signin\" className=\"login__signup\">\n                    Already a member? Log in here!\n                </Link>\n            </form>\n        </div>\n    );\n}\n\nexport default Register;\n","import React, { useState } from \"react\";\n//import { Link, useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\n//import * as auth from \"../Utils/auth\";\n//import './styles/Login.css';\n\nfunction Login(props) {\n    const [password, setPassword] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n\n    //const history = useHistory();\n\n    // const resetForm = () => {\n    //     setEmail(\"\");\n    //     setPassword(\"\");\n    // };\n    function handleEmail(e) {\n        setEmail(e.target.value);\n    }\n    function handlePassword(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.handleLogin(email, password);\n        // if (!localStorage.getItem('jwt')) {\n        //     resetForm();\n        //     history.push(\"/signin\")   \n        // }\n        // else{\n        //     history.push(\"/\")   \n        // }\n        // else{\n        //     history.push(\"/signin\");\n        //     resetForm();\n        // }\n\n    }\n\n    return (\n        <div className=\"login\">\n            <div>\n            </div>\n            <form onSubmit={handleSubmit} className=\"login__form\">\n                <p className=\"login__title\">Log in</p>\n                <input\n                    className=\"login__form\"\n                    required\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    value={email}\n                    placeholder=\"Email\"\n                    onChange={handleEmail}\n                />\n                <input\n                    className=\"login__form\"\n                    required\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    value={password}\n                    placeholder=\"Password\"\n                    onChange={handlePassword}\n                />\n                <button\n                    type=\"submit\"\n                    onSubmit={handleSubmit}\n                    className=\"login__submit\"\n                >\n                    Log in\n                </button>\n                <Link to=\"signup\" className=\"login__signup\">\n                    Not a member yet? Sign up here!\n                </Link>\n            </form>\n        </div>\n    );\n}\n\nexport default Login;\n// class Login extends React.Component {\n//   constructor(props){\n//     super(props);\n//     this.state = {\n//       username: '',\n//       password: ''\n//     }\n//     this.handleChange = this.handleChange.bind(this);\n//     this.handleSubmit = this.handleSubmit.bind(this);\n\n//   }\n//   handleChange(e) {\n//     const {name, value} = e.target;\n//     this.setState({\n//       [name]: value\n//     });\n//   }\n//   handleSubmit(e){\n//     e.preventDefault();\n//     if (!this.state.username || !this.state.password){\n//       return;\n//     }\n//     auth.authorize(this.state.email, this.state.password)\n//     .then((data) => {\n//       if (data.jwt){\n//         this.setState({email: '', password: ''} ,() => {\n//         this.props.handleLogin(data.user.en_cal_goal.calGoal);\n//         this.props.history.push('/diary');\n//         })\n//       }\n//     })\n//     .catch(err => console.log(err));\n//   }\n//   render(){\n//     return(\n//       <div className=\"login\">\n//         <p className=\"login__welcome\">\n//           Welcome back!\n//         </p>\n//         <form onSubmit={this.handleSubmit} className=\"login__form\">\n//           <label htmlFor=\"username\">\n//             Username:\n//           </label>\n//           <input required id=\"username\" name=\"username\" type=\"text\" value={this.state.username} onChange={this.handleChange} />\n//           <label htmlFor=\"password\">\n//             Password:\n//           </label>\n//           <input required id=\"password\" name=\"password\" type=\"password\" value={this.state.password} onChange={this.handleChange} />\n//           <div className=\"login__button-container\">\n//             <button type=\"submit\" onSubmit={this.handleSubmit} className=\"login__link\">Log in</button>\n//           </div>\n//         </form>\n\n//         <div className=\"login__signup\">\n//           <p>Ready to begin your journey?</p>\n//           <Link to=\"/register\" className=\"signup__link\">Sign up</Link>\n//         </div>\n//       </div>\n//     )\n//   }\n// }\n\n// export default withRouter(Login);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n    return (\n        <Route>\n            {/* {(...args) => {\n                console.log('args:', args)\n                return props.loggedIn ? (\n                    <>\n                        <Component {...props} />\n                    </>\n                ) : (\n                    <Redirect to=\"/signin\" />\n                )\n            }\n            } */}\n            { (...args) => {\n                console.log('args:', args)\n                return props.loggedIn ? <Component {...props} />: <Redirect to='/signin' /> }}\n        </Route>\n    );\n}\n//<Component {...props} />\n//{ props.loggedIn ? props.children: <Redirect to='/signin' /> }\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/Check.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Xerror.df8eddf6.svg\";","import React from \"react\";\nimport Check from \"../images/Check.svg\";\nimport Xerror from \"../images/Xerror.svg\";\n\nfunction InfoTooltip(props) {\n    return (\n        <div\n            className={`modal__toolTip ${\n                props.isOpen ? \"modal__toolTip_visible\" : \"\"\n            }`}\n            onClick={props.onClose}\n        >\n            {/* <div className=\"modal__container\"> */}\n            <div className=\"modal__content\">\n                <img\n                    className=\"modal__icon\"\n                    src={props.valid ? Check : Xerror}\n                    alt={props.valid ? \"Check Mark\" : \"Error\"}\n                />\n                {props.valid ? (\n                    <p className=\"modal__infotool-text\">\n                        Success! You have now been registered.\n                    </p>\n                ) : (\n                    <p className=\"modal__infotool-text\">\n                        Oops, something went wrong! Please try again\n                    </p>\n                )}\n            </div>\n            <button\n                className=\"modal__close link\"\n                onClick={props.onClose}\n            ></button>\n        </div>\n        // </div>\n    );\n}\n\nexport default InfoTooltip;\n","export const BASE_URL = \"https://register.nomoreparties.co\";\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n    })\n\n    //.catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n    })\n        .then((res) => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n        // .then((res) => {\n        //     const result = res.json();\n        //     return result\n        // })\n        .then((data) => {\n            if (data.token) {\n                localStorage.setItem(\"jwt\", data.token);\n                return data;\n            } else {\n                return;\n            }\n        })\n        //.catch((err) => console.log(err));\n};\n\nexport const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n        },\n    })\n        // .then((res) => {\n        //     return res.json();\n        // })\n        .then((res) => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n\n        .then((data) => {\n            return data\n        })\n        //.catch((err) => console.log(err));\n};\n","import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport EditProfileModal from \"./EditProfileModal\";\nimport EditAvatarModal from \"./EditAvatarModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport AddImageModal from \"./AddImageModal\";\nimport ImagePopup from \"./ImagePopup\";\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../Utils/Api\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport * as auth from \"../Utils/auth\";\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    useHistory,\n    Redirect,\n} from \"react-router-dom\";\n\nfunction App() {\n    const [cards, setCards] = React.useState([]);\n    const [editProfileModalOpen, setEditProfileModalOpen] = React.useState(\n        false\n    );\n    const [editAvatarModalOpen, setEditAvatarModalOpen] = React.useState(false);\n    const [addImageModalOpen, setAddImageModalOpen] = React.useState(false);\n    const [deleteModalOpen, setDeleteModalOpen] = React.useState(false);\n    const [enlargeImage, setEnlargeImage] = useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [imageLink, setImageLink] = React.useState(\"\");\n    const [imageTitle, setImageTitle] = React.useState(\"\");\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [userData, setUserData] = React.useState(false);\n    const [email, setEmail] = useState(\"\");\n    const [isInfoTooltipOpen,setIsInfoTooltipOpen] = React.useState(false);\n    const [isSuccessful, setIsSuccessful] = React.useState(false);\n\n    const history = useHistory();\n\n    React.useEffect(() => {\n        handleCheckToken();\n    }, []);\n    React.useEffect(() => {\n        api.getUserInfo()\n            .then((res) => {\n                setCurrentUser(res);\n            })\n            .then(() => {\n                api.getCardList()\n                    .then((res) => {\n                        setCards(\n                            res.map((card) => ({\n                                name: card.name,\n                                link: card.link,\n                                _id: card._id,\n                                likes: card.likes,\n                                owner: card.owner,\n                            }))\n                        );\n                    })\n                    .catch((err) => console.log(err));\n            })\n            .catch((err) => console.log(err));\n    }, []);\n    function handleEditProfileClick() {\n        setEditProfileModalOpen(true);\n    }\n    function handleEditAvatarClick() {\n        setEditAvatarModalOpen(true);\n    }\n    function handleAddPlaceClick() {\n        setAddImageModalOpen(true);\n    }\n\n    function handleCardClick(link, title) {\n        setEnlargeImage(true);\n        //({link, title})\n        setImageLink(link);\n        setImageTitle(title);\n    }\n    function handleDeleteClick(card) {\n        console.log(currentUser._id === card.owner._id);\n\n        api.removeCard(card._id)\n            .then(() => {\n                const cardList = cards.filter((c) => c._id !== card._id);\n                setCards(cardList);\n            })\n            .catch((err) => console.log(err));\n    }\n    function handleCardLike(card) {\n        // Check one more time if this card was already liked\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\n        let likeStatus;\n        if (isLiked === false) {\n            likeStatus = api.addLike(card._id);\n        } else {\n            likeStatus = api.deleteLike(card._id);\n        }\n        likeStatus\n            .then((newCard) => {\n                const newCards = cards.map((c) =>\n                    c._id === card._id ? newCard : c\n                );\n                // Update the state\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleUpdateUser({ name, about }) {\n        api.setUserInfo({ name, about })\n            .then((res) => {\n                console.log(res);\n                setCurrentUser(res);\n            })\n            .then(() => {\n                setEditProfileModalOpen(false);\n            })\n            .catch((err) => console.log(err));\n    }\n    function handleUpdateAvatar(avatar) {\n        api.setUserAvatar({ avatar })\n            .then((res) => {\n                setCurrentUser(res);\n            })\n            .then(() => {\n                setEditAvatarModalOpen(false);\n            })\n            .catch((err) => console.log(err));\n    }\n    function handleAddPlaceSubmit({ name, link }) {\n        api.addCard({ name, link })\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n            })\n            .then(() => setAddImageModalOpen(false))\n            .catch((err) => console.log(err));\n    }\n    function closeAllPopups() {\n        setEditProfileModalOpen(false);\n        setDeleteModalOpen(false);\n        setAddImageModalOpen(false);\n        setEditAvatarModalOpen(false);\n        setSelectedCard(null);\n        setEnlargeImage(false);\n        setIsInfoTooltipOpen(false);\n    }\n    useEffect(() => {\n        const jwt = localStorage.getItem(\"jwt\");\n\n        if (jwt) {\n            // we're checking the user's token\n            auth.checkToken(jwt).then((res) => {\n                let userData = {\n                    username: res.username,\n                    email: res.email,\n                };\n                // we're finding the selected user's total calories\n                // from the list of possible goals\n                setLoggedIn(true);\n                setUserData(userData);\n            });\n        }\n    }, [loggedIn]);\n\n    function handleRegistration(email, password) {\n        return auth\n            .register(email, password)\n            .then((res) => {\n                if (res.status === 201) {\n                    setLoggedIn(true);\n                    history.push(\"/signin\");\n                    //handleLogin(email, password)\n                    setIsSuccessful(true);\n                    setIsInfoTooltipOpen(true);\n                    return;\n                }\n                setIsSuccessful(false);\n                setIsInfoTooltipOpen(true);\n            })\n            .catch((err) => console.log(err));\n    }\n    \n    // function handleLogin(email, password) {\n    //     auth.authorize(email, password)\n    //         .then((res) => {\n    //             if (!res) {\n    //                 console.log(!res);\n    //                 setIsSuccessful(false);\n    //                 setIsInfoTooltipOpen(true);\n    //                 return;\n    //             }\n\n    //             handleCheckToken();\n    //             setLoggedIn(true)\n    //             //setEmail(email);\n    //             history.push(\"/\");\n    //         })\n    //         .catch((err) => {\n    //             console.log(err);\n    //             setIsSuccessful(false);\n    //             setIsInfoTooltipOpen(true);\n    //         });\n    // }\n    function handleLogin(email, password) {\n      auth\n        .authorize(email, password)\n        .then((res) => {\n          if (!res) {\n            console.log(!res);\n            setIsSuccessful(false);\n            setIsInfoTooltipOpen(true);\n            history.push(\"/signin\");\n            return\n          }\n          // handleCheckToken();\n          setLoggedIn(true)\n          setEmail(email);\n          history.push(\"/\");\n        })\n        .catch((err) => {\n          console.log(err);\n          setIsSuccessful(false);\n          setIsInfoTooltipOpen(true);\n        });\n    }\n    function handleCheckToken() {\n        const jwt = localStorage.getItem(\"jwt\");\n        if (jwt) {\n            auth.checkToken(jwt)\n                .then((res) => {\n                    if (res.err) {\n                        console.log(res.err);\n                    }\n                    const usersEmail = res.data.email;\n                    setEmail(usersEmail);\n                    setLoggedIn(true);\n                    setIsSuccessful(true);\n\n                })\n                .catch((err) => console.log(err));\n        }\n    }\n\n    function handleLogout() {\n        localStorage.removeItem(\"jwt\");\n        setLoggedIn(false);\n        setEmail(\"\");\n        history.push(\"/signin\");\n    }\n    return (\n        <div className=\"page\">\n                <Router>\n                    <currentUserContext.Provider value={currentUser}>\n                        <Switch>\n                            <ProtectedRoute\n                                exact\n                                path=\"/\"\n                                component={Main}\n                                loggedIn={loggedIn}\n                                handleLogout={handleLogout}\n                                email={email}\n                                cards={cards}\n                                editProfileModalOpen={editProfileModalOpen}\n                                editAvatarModalOpen={editAvatarModalOpen}\n                                addImageModalOpen={addImageModalOpen}\n                                deleteModalOpen={deleteModalOpen}\n                                selectedCard={selectedCard}\n                                handleEditProfileClick={handleEditProfileClick}\n                                handleEditAvatarClick={handleEditAvatarClick}\n                                handleAddPlaceClick={handleAddPlaceClick}\n                                handleDeleteClick={(card) => {\n                                    console.log(card);\n                                    handleDeleteClick(card);\n                                }}\n                                handleCardClick={handleCardClick}\n                                handleCardLike={(card) => {\n                                    handleCardLike(card);\n                                }}\n                            />\n                            <Route path=\"/signin\">\n                                <Header\n                                    link={\"/signup\"}\n                                    text={\"Register\"}\n                                    setEmail={setEmail}\n                                />\n                                { loggedIn ? <Redirect to='/' /> : \n                                <Login handleLogin={handleLogin} />}\n                            </Route>\n                            <Route path=\"/signup\">\n                                <Header\n                                    link={\"/signin\"}\n                                    text={\"Login\"}\n                                    setEmail={setEmail}\n                                />\n                                <Register\n                                    handleRegistration={handleRegistration}\n                                />\n                            </Route>\n                        </Switch>\n                        <EditProfileModal\n                            isOpen={editProfileModalOpen}\n                            onClose={closeAllPopups}\n                            onUpdateUser={handleUpdateUser}\n                        />\n                        <EditAvatarModal\n                            isOpen={editAvatarModalOpen}\n                            onClose={closeAllPopups}\n                            onUpdateAvatar={handleUpdateAvatar}\n                        />\n                        <AddImageModal\n                            isOpen={addImageModalOpen}\n                            onClose={closeAllPopups}\n                            handleAddPlaceSubmit={handleAddPlaceSubmit}\n                        />\n                        <DeleteModal\n                            isOpen={deleteModalOpen}\n                            onClose={closeAllPopups}\n                        />\n                        <ImagePopup\n                            isOpen={enlargeImage}\n                            onClose={closeAllPopups}\n                            link={imageLink}\n                            title={imageTitle}\n                        />\n                        <InfoTooltip\n                            isOpen={isInfoTooltipOpen}\n                            onClose={closeAllPopups}\n                            valid={isSuccessful}\n                        />\n                    </currentUserContext.Provider>\n                </Router>\n        </div>\n    );\n}\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import(\"web-vitals\").then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry);\n                getFID(onPerfEntry);\n                getFCP(onPerfEntry);\n                getLCP(onPerfEntry);\n                getTTFB(onPerfEntry);\n            }\n        );\n    }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n    // <React.StrictMode>\n    <Router>\n        <App />\n    </Router>,\n    // </React.StrictMode>\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}